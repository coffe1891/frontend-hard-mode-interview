# é™†.1.6 ä¾èµ–å€’ç½®åŸåˆ™

## 01.ä»¥ä¸€ä¸ªæ¸£ç”·ç»ƒæˆçš„ä¾‹å­å¼€ç¯‡å§

å°æ˜ä»Šå¹´20å²ä¸Šå¤§äºŒï¼Œå–œæ¬¢æ¼‚äº®å¥³å­©ï¼Œç»è¿‡é•¿è¾¾åŠå¹´çš„é©¬æ‹‰æ¾å¼è¿½æ±‚ï¼Œç»ˆäºä¿˜è·äº†èªæ˜ç¾ä¸½çš„å¥³å­©å°ç¾½å„¿çš„èŠ³å¿ƒã€‚ä¸¤äººå¤©å¤©è…»æ­ªåœ¨ä¸€èµ·ï¼Œä¸€èµ·ä¸Šè‡ªä¹ ã€åƒé¥­ã€çœ‹ç”µå½±ã€ç”šè‡³kissâ€¦â€¦æ›´å¤šçš„å†…å®¹å°‘å„¿ä¸å®œã€‚æ€»ä¹‹ï¼Œæœ‰ä¸ªå¥³æœ‹å‹çš„æ„Ÿè§‰å¤ªå¥½å•¦ï¼Œå°æ˜å·²ç»å½»åº•ç¦»ä¸å¼€å°ç¾½å„¿ã€‚ä»£ç å®ç°å¦‚ä¸‹ï¼š

```javascript
/**
 * å°ç¾½å„¿
 */
class XiaoYuEr {
   constructor() {
      this.name = "å°ç¾½å„¿";
   }
}

/**
 * å°æ˜
 */
class XiaoMing {
   girlfriend = new XiaoYuEr();
   constructor() {
      this.name = "å°æ˜";
   }

   study() {
      console.log(`${this.name}å’Œ${this.girlfriend.name}åœ¨ä¸Šè‡ªä¹ `);
   }
   eat() {
      console.log(`${this.name}å’Œ${this.girlfriend.name}åœ¨åƒé¥­`);
   }
   watchMovie() {
      console.log(`${this.name}å’Œ${this.girlfriend.name}åœ¨çœ‹ç”µå½±`);
   }
   kiss() {
      console.log(`${this.name}å’Œ${this.girlfriend.name}åœ¨æ¥å»`);
   }
}

let xiaoming = new XiaoMing();
xiaoming.study(); //>>å°æ˜å’Œå°ç¾½å„¿åœ¨ä¸Šè‡ªä¹ 
xiaoming.eat(); //>>å°æ˜å’Œå°ç¾½å„¿åœ¨åƒé¥­
xiaoming.watchMovie(); //>>å°æ˜å’Œå°ç¾½å„¿åœ¨çœ‹ç”µå½±
xiaoming.kiss(); //>>å°æ˜å’Œå°ç¾½å„¿åœ¨æ¥å»
```

å¹¸ç¦çš„æ—¥å­æŒç»­äº†ä¸€å¹´ï¼Œå°ç¾½å„¿çš„çˆ¶æ¯æƒ³é€å¥¹å»ç¾å›½ç•™å­¦ï¼Œå°æ˜ä¸‡èˆ¬ä¸èˆï¼Œä½†æ˜¯æ— å¥ˆè´«è´±ä¸èƒ½ç§»ï¼Œåªèƒ½çœ‹ç€å¥³æœ‹å‹ç¦»è‡ªå·±è€Œå»ã€‚ä¼¤å¿ƒäº†å‡ ä¸ªæœˆï¼Œå¥½åœ¨å°æ˜é•¿å¾—é…·é…·çš„åˆæœ‰æ‰æ°”ï¼Œå¾ˆå¿«æœ‰ä¸ªæ¼‚äº®çš„å¥³å­©å°èŒçš„å–œæ¬¢ä¸Šäº†ä»–ã€‚äºæ˜¯â€¦â€¦

```javascript
/**
 * å°èŒ
 */
class XiaoMeng {
   constructor() {
      this.name = "å°èŒ";
   }
}

/**
 * å°æ˜
 */
class XiaoMing {
   girlfriend = new XiaoMeng(); //å› ä¸ºæ¢äº†å¥³æœ‹å‹ï¼Œå°æ˜è¦åœ¨å¿ƒé‡ŒæŠŠå¥³å‹æ¢æˆäº†å°èŒï¼Œ
                                //é‡Œå¤–éƒ½è¦æ¢ï¼Œä»£ä»·æ˜¯æ˜‚è´µçš„
   constructor() {
      this.name = "å°æ˜";
   }

   study() {
      console.log(`${this.name}å’Œ${this.girlfriend.name}åœ¨ä¸Šè‡ªä¹ `);
   }
   eat() {
      console.log(`${this.name}å’Œ${this.girlfriend.name}åœ¨åƒé¥­`);
   }
   watchMovie() {
      console.log(`${this.name}å’Œ${this.girlfriend.name}åœ¨çœ‹ç”µå½±`);
   }
   kiss() {
      console.log(`${this.name}å’Œ${this.girlfriend.name}åœ¨æ¥å»`);
   }
}

let xiaoming = new XiaoMing();
xiaoming.study(); //>>å°æ˜å’Œå°èŒåœ¨ä¸Šè‡ªä¹ 
xiaoming.eat(); //>>å°æ˜å’Œå°èŒåœ¨åƒé¥­
xiaoming.watchMovie(); //>>å°æ˜å’Œå°èŒåœ¨çœ‹ç”µå½±
xiaoming.kiss(); //>>å°æ˜å’Œå°èŒåœ¨æ¥å»
```

æœ‰äº†æ–°å¥³å‹ï¼Œå°æ˜å¾ˆå¿«èµ°å‡ºäº†éƒéƒå¯¡æ¬¢çš„æ—¥å­ã€‚æ¢…å¼€äºŒåº¦çœ‹ä¼¼ç¾å¥½ï¼Œä½†å…¶å®å°æ˜æ²¡æœ‰é‚£ä¹ˆçˆ±å°èŒï¼Œè¿™æ®µæ‹æƒ…å¾ˆå¿«å°±ç»“æŸäº†ã€‚ç„¶åæŸå¤©ï¼Œå°æ˜çªç„¶æ˜ç™½äº†ï¼ŒåŸæ¥è‡ªå·±åªæ˜¯å®³æ€•å­¤ç‹¬ï¼Œéœ€è¦æœ‰ä¸ªå¤§å­¦å¥³ç”Ÿé™ªä¼´è€Œå·²ã€‚äºæ˜¯ä»£ç å¦‚ä¸‹â€¦â€¦

```javascript
/**
 * å¤§å­¦å¥³ç”Ÿ
 */
class CollegeGirl {
   constructor() {
      this.name = "å¤§å­¦å¥³ç”Ÿ";
   }
}

class Girl1 extends CollegeGirl {
   constructor() {
      super();
      this.name = "å°èŠ±";
   }
}
class Girl2 extends CollegeGirl {
   constructor() {
      super();
      this.name = "å°è“";
   }
}
class Girl3 extends CollegeGirl {
   constructor() {
      super();
      this.name = "å°çº¢";
   }
}
class Girl4 extends CollegeGirl {
   constructor() {
      super();
      this.name = "å°ç¾";
   }
}
class Girl5 extends CollegeGirl {
   constructor() {
      super();
      this.name = "å°ä¸«";
   }
}
class Girl6 extends CollegeGirl {
   constructor() {
      super();
      this.name = "å°æ™´";
   }
}
class Girl7 extends CollegeGirl {
   constructor() {
      super();
      this.name = "å°ç‚";
   }
}

/**
 * å°æ˜
 */
class XiaoMing {
   constructor(collegeGirl) {
      this.name = "å°æ˜";
      this.girlfriend = collegeGirl;
   }

   study() {
      console.log(`${this.name}å’Œ${this.girlfriend.name}åœ¨ä¸Šè‡ªä¹ `);
   }
   eat() {
      console.log(`${this.name}å’Œ${this.girlfriend.name}åœ¨åƒé¥­`);
   }
   watchMovie() {
      console.log(`${this.name}å’Œ${this.girlfriend.name}åœ¨çœ‹ç”µå½±`);
   }
   kiss() {
      console.log(`${this.name}å’Œ${this.girlfriend.name}åœ¨æ¥å»`);
   }
}

/**
 * å°æ˜ç¥ˆç¥·è€å¤©ï¼Œè€å¤©æ„Ÿå…¶è¯šï¼Œæ¯å¤©éƒ½å®‰æ’ä¸åŒå¥³å­©ç»™ä»–
 */
function showMeCollegeGirl() {
   let now = new Date().getUTCDay() % 7;
   switch (now) {
      case 1:
         return new Girl1();
      case 2:
         return new Girl2();
      case 3:
         return new Girl3();
      case 4:
         return new Girl4();
      case 5:
         return new Girl5();
      case 6:
         return new Girl6();
      case 0:
         return new Girl7();
   }

}

let xiaoming = new XiaoMing(showMeCollegeGirl());//å°†ä¾èµ–çš„å¯¹è±¡æ³¨å…¥æ„é€ å‡½æ•°
//å°æ˜æ¯å¤©å’Œä¸åŒå¥³å­©ä¸€èµ·ï¼Œè¿‡èµ·äº†æ²¡ç¾æ²¡è‡Šçš„æ¸£ç”·ç”Ÿæ´»
xiaoming.study(); 
xiaoming.eat(); 
xiaoming.watchMovie(); 
xiaoming.kiss(); 
```

ä¸Šé¢è¿™æ®µä»£ç ï¼Œæ˜¾ç¤ºäº†å°æ˜**ä»ä¾èµ–å…·ä½“**çš„å¥³å­©å°ç‰å„¿ï¼Œ**è½¬ä¸ºä¾èµ–æŠ½è±¡**çš„å¤§å­¦å¥³ç”Ÿã€‚è¿™æ ·ä¹‹åï¼Œå°æ˜å†…å¿ƒä¸ç”¨æ›´æ¢äº†å¥³æœ‹å‹çš„ä½ç½®ï¼Œå› æ­¤æ²¡æœ‰å¿ƒç†åŒ…è¢±ï¼Œæ„Ÿè§‰å¾ˆè½»æ¾ã€‚ç„¶åç¬¬107è¡Œåœ¨æ„é€ å‡½æ•°é‡Œä¼ é€’ï¼ˆæ³¨å…¥ï¼‰äº†å…·ä½“çš„å¤§å­¦å¥³ç”Ÿï¼Œè¿™å°±å«åš**ä¾èµ–æ³¨å…¥ã€‚**

ä¸Šé¢è¿™ä¸ªä¾‹å­æ¯”è¾ƒä¸§ ğŸ¤£ ï¼Œä½†æ˜¯åˆçš„ç¡®æ˜¯å¤§å¤šæ•°ç”·å­©çš„æˆé•¿å†ç¨‹ï¼ŒçœŸå®å¾—å¯æ€•ã€‚æˆ‘ä»¬è¦ç›¸ä¿¡ç­‰å°æ˜å†æˆç†Ÿä¸€ç‚¹å„¿ï¼ŒçŸ¥é“è‡ªå·±éœ€è¦ä»€ä¹ˆæ ·çš„å¥³å­©é™ªä¼´ç»ˆèº«ä¹‹åï¼Œå°±ä¼šå˜æˆæš–ç”·çš„ ğŸ˜‡ ã€‚

å¥½äº†ï¼Œæˆ‘ä»¬ç»§ç»­æ¥ç€æ¥è®²ä¾èµ–å€’ç½®ã€‚

## 02.ä¾èµ–å€’ç½®

> ä¾èµ–å€’ç½®åŸåˆ™ï¼ˆDependence Inversion Principleï¼‰æ˜¯ç¨‹åºè¦ä¾èµ–äºæŠ½è±¡ï¼Œä¸è¦ä¾èµ–äºå…·ä½“å®ç°ã€‚ç®€å•çš„è¯´å°±æ˜¯è¦æ±‚é’ˆå¯¹æŠ½è±¡è¿›è¡Œç¼–ç¨‹ï¼Œä¸è¦å¯¹å…·ä½“å®ç°è¿›è¡Œç¼–ç¨‹ï¼Œè¿™æ ·å°±é™ä½äº†ä¸å…·ä½“å®ç°æ¨¡å—çš„è€¦åˆã€‚

> 1. é«˜å±‚æ¬¡æ¨¡å—ä¸åº”è¯¥ä¾èµ–ä½å±‚æ¬¡æ¨¡å—ï¼Œå®ƒä»¬éƒ½åº”è¯¥ä¾èµ–äºæŠ½è±¡ã€‚
> 2. æŠ½è±¡ä¸åº”è¯¥ä¾èµ–äºå…·ä½“ï¼Œå…·ä½“åº”è¯¥ä¾èµ–äºæŠ½è±¡ã€‚

```text

```

## 03.ä½•è°“é«˜å±‚æ¬¡ï¼Œä½•è°“ä½å±‚æ¬¡ï¼Ÿ

## 04.ä½•è°“æŠ½è±¡ï¼Ÿ

## 05.ä»£ç ç¤ºä¾‹

## å‚è€ƒæ–‡çŒ®

{% hint style="info" %}
[Dependency inversion principle](https://en.wikipedia.org/wiki/Dependency_inversion_principle)  
[DIP: The Dependency-Inversion Principle](https://medium.com/@gabriellamedas/dip-the-dependency-inversion-principle-dbe0f784f3aa)
{% endhint %}

